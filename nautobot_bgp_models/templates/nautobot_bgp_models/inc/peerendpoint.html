{% load helpers %}

<div class="panel panel-default">
    <div class="panel-heading">
        <div class="pull-right">
            {% if not endpoint and perms.nautobot_bgp_models.add_peerendpoint %}
                <a href="{% url 'plugins:nautobot_bgp_models:peerendpoint_add' session=object.pk %}" class="btn btn-xs btn-success">
                    <span class="mdi mdi-plus-thick" aria-hidden="true"></span> Add
                </a>
            {% endif %}
            {% if endpoint %}
                <a href="{% url 'plugins:nautobot_bgp_models:peerendpoint' pk=endpoint.pk %}" class="btn btn-xs btn-info">
                    <span class="mdi mdi-dots-vertical-circle" aria-hidden="true"></span> Detail
                </a>
            {% endif %}
            {% if endpoint and perms.nautobot_bgp_models.change_peerendpoint  %}
                <a href="{% url 'plugins:nautobot_bgp_models:peerendpoint_edit' pk=endpoint.pk %}" class="btn btn-xs btn-warning">
                    <span class="mdi mdi-pencil" aria-hidden="true"></span> Edit
                </a>
            {% endif %}
            {% if endpoint and perms.nautobot_bgp_models.delete_peerendpoint %}
                <a href="{% url 'plugins:nautobot_bgp_models:peerendpoint_delete' pk=endpoint.pk %}?return_url={{ object.get_absolute_url }}" class="btn btn-xs btn-danger">
                    <span class="mdi mdi-trash-can-outline" aria-hidden="true"></span> Delete
                </a>
            {% endif %}
        </div>
        <strong>Peer Endpoint - {{ side }} Side</strong>
    </div>
    {% if endpoint %}
        <table class="table table-hover panel-body attr-table">
            <tr>
                <td>IP Address</td>
                <td><a href="{% url 'ipam:ipaddress' pk=endpoint.local_ip.pk %}">{{ endpoint.local_ip }}</a></td>
            </tr>
            <tr>
                <td>Autonomous System</td>
                {% if endpoint.get_autonomous_system %}
                    <td><a href="{% url 'plugins:nautobot_bgp_models:autonomoussystem' pk=endpoint.get_autonomous_system.pk %}">{{ endpoint.get_autonomous_system.asn }}</a></td>
                {% else %}
                    <td><span class="text-muted">None</span></td>
                {% endif %}
                </td>
            </tr>
            <tr>
                <td>Peer Group</td>
                {% if endpoint.peer_group %}
                    <td><a href="{% url 'plugins:nautobot_bgp_models:peergroup' pk=endpoint.peer_group.pk %}"></a>{{ endpoint.peer_group }}</a></td>
                {% else %}
                    <td><span class="text-muted">None</span></td>
                {% endif %}
                </td>
            </tr>
            <tr>
                <td>Device</td>
                {% if endpoint.get_device %}
                    <td><a href="{% url 'dcim:device' pk=endpoint.get_device.pk %}"></a>{{ endpoint.get_device }}</a></td>
                {% else %}
                    <td><span class="text-muted">None</span></td>
                {% endif %}
                </td>
            </tr>
        </table>
    {% else %}
        <div class="panel-body">
            <span class="text-muted">None</span>
        </div>
    {% endif %}
</div>